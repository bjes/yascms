<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">{{ request.site_config['site_name'] }}<br>後台管理</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav flex-column" data-sm-options="{noMouseOver: true}">
      {% if request.session['is_admin'] %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarSiteConfigDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <i class="bi bi-gear-wide-connected"></i> 系統設定
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarSiteConfigDropdown">
            <li><a class="dropdown-item" href="{{ request.route_url('backend_site_config_edit') }}">一般設定</a></li>
            <li><a class="dropdown-item" href="#">自訂 CSS</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarUserDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <i class="bi bi-person"></i> 使用者管理
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarUserDropdown">
            <li><a class="dropdown-item" href="{{ request.route_path('backend_user_create') }}">建立帳號</a></li>
            <li><a class="dropdown-item" href="{{ request.route_path('backend_user_list') }}">帳號列表</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarGroupDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <i class="bi bi-people-fill"></i> 群組管理
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarGroupDropdown">
            <li><a class="dropdown-item" href="{{ request.route_path('backend_group_create') }}">建立群組</a></li>
            <li><a class="dropdown-item" href="{{ request.route_path('backend_group_list') }}">群組列表</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarNavbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <i class="bi bi-menu-button-wide"></i> 導覽列管理
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarNavbarDropdown">
            <li><a class="dropdown-item" href="{{ request.route_path('backend_navbar_list') }}">導覽列列表</a></li>
            <li><a class="dropdown-item" href="{{ request.route_path('backend_navbar_create') }}">建立導覽列</a></li>
          </ul>
        </li>
      {% endif %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarNewsDropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <i class="bi bi-megaphone"></i> 最新消息
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarNewsDropdown">
          <li><a class="dropdown-item" href="{{ request.route_url('backend_news_create') }}">發佈文章</a></li>
          <li><a class="dropdown-item" href="{{ request.route_url('backend_news_list') }}">文章列表</a></li>
          {% if request.session['is_admin'] %}
            <li><a class="dropdown-item" href="{{ request.route_url('backend_news_category_create') }}">建立分類</a></li>
            <li><a class="dropdown-item" href="{{ request.route_url('backend_news_category_list') }}">分類管理</a></li>
          {% endif %}
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarPageDropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <i class="bi bi-card-text"></i> 單一頁面
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarPageDropdown">
          {% if request.session['is_admin'] %}
            <li><a class="dropdown-item" href="{{ request.route_url('backend_page_create') }}">建立頁面</a></li>
          {% endif %}
          <li><a class="dropdown-item" href="{{ request.route_url('backend_page_list') }}">頁面列表</a></li>
        </ul>
      </li>
      {% if request.session['is_admin'] %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarTelExtDropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <i class="bi bi-telephone"></i> 分機表
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarTelExtDropdown">
          <li><a class="dropdown-item" href="{{ request.route_url('backend_telext_create') }}">建立分機</a></li>
          <li><a class="dropdown-item" href="{{ request.route_url('backend_telext_list') }}">分機管理</a></li>
        </ul>
      </li>
      {% endif %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarLinkDropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <i class="bi bi-link-45deg"></i> 好站連結
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarLinkDropdown">
          <li><a class="dropdown-item" href="{{ request.route_url('backend_link_create') }}">建立連結</a></li>
          <li><a class="dropdown-item" href="{{ request.route_url('backend_link_list') }}">連結管理</a></li>
          <li><a class="dropdown-item" href="{{ request.route_url('backend_link_category_create') }}">建立分類</a></li>
          <li><a class="dropdown-item" href="{{ request.route_url('backend_link_category_list') }}">分類管理</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarTagsDropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <i class="bi bi-tags"></i> 標籤管理
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarTagsDropdown">
          {% if request.session['is_admin'] %}
            <li><a class="dropdown-item" href="#">建立標籤</a></li>
          {% endif %}
          <li><a class="dropdown-item" href="#">標籤列表</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarAccountDropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="bi bi-person"></i>
          {{ request.session['first_name']}}
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarAccountDropdown">
          <li><a class="dropdown-item" href="#">帳號設定</a></li>
          <li class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="{{ request.route_url('homepage') }}">回到前台</a></li>
          <li class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="{{ 'logout'|route_path }}">登出</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>
